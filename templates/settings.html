{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block title %}
	Settings
{% endblock %}

{% block content %}
<div class="spacing-buffer"></div>

<div class="container">
	<div class="row col-lg-6">
        <h2 class="text-center">Event Preferences & Notifications</h2>

			<h3>Profile Settings</h3>
			<form method="post" action=".">
				{% csrf_token %}
				<div class="form-group">
					{{ profile_form.as_p }}
				</div>
				<input class="btn btn-default" type="submit" name="notification" value="submit">
			</form>

	</div>
    <div class="row col-lg-6">

		<h2 class="text-center">Interest</h2>
        <ul>
            {% for interest in interests %}
                <a class="userChoice btn btn-default" href="/search/?q={{ interest.name }}">{{ interest.name }}</a>

            {% endfor %}
        </ul>
        <div class="spacing-buffer"></div>

        <!-- Button trigger modal -->
		<div class="centering-box">
			<div class="row">
				<button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#addNewInterest">
					Add New Interest
				</button>
		        <button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#deleteNewInterest">
					Delete An Interest
				</button>
			</div>
		</div>

		<!-- Modal -->
		<div class="modal fade" id="addNewInterest" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		  <div class="modal-dialog">
		    <div class="modal-content">
			    <form method="post">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
		        <h4 class="modal-title" id="myModalLabel">Add New Interest</h4>
		      </div>
		      <div class="modal-body">
	                {% csrf_token %}
	                {{ interest_form.as_p }}
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
		        <input type="submit" value="Add New Interest" class="btn btn-primary" name="interest">
		      </div>
			    </form>
		    </div>
		  </div>
		</div>

        <div class="modal fade" id="deleteNewInterest" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
		        <h4 class="modal-title" id="myModalLabel">Delete Interest</h4>
			    <p>Click on an interest to delete.</p>
		      </div>
		      <div class="modal-body">

					{% for interest in interests %}
                        <a class="userChoice btn btn-default" href="{% url 'delete_interest' interest.id %}">{{ interest.name }}</a>
                    {% endfor %}

		      </div>

		    </div>
		  </div>
	</div>

</div>


		<!-- Modal Ends-->
{% endblock %}